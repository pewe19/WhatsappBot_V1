const onlyScheduled=false;const onlyRandom=true;const everyS=36000;const scheTime=['12', '20', '1', '13', '15'];const phrases=['frase random guardada 1', 'frase random guardada 2', 'frase random guardada 3'];const schePhrases=[{phrase:'Primer frase agendada guardada', time:'12'}, {phrase:'Segunda frase agendada guardada', time:'13'}];var msgInput,cache=[],cacheLimit=phrases.length,diff=!1,chosenPhrase=0;count=0;const eventInput=new InputEvent("input",{bubbles:!0}),getTime=()=>new Date(Date.now()).getHours();function randInt(e,n){return Math.round(Math.random()*n-e)}function isDiff(e,n){for(i=0;i<n.length;i++)if(n[i]==e)return!1;return!0}function selectPhrase(){diff=!1;let e=0;for(;!diff;)chosenPhrase=randInt(0,phrases.length),diff=!!isDiff(chosenPhrase,cache),e++,100==e&&(diff=!0)}function checkcache(){(cache.length<cacheLimit?cache:cache=[]).push(chosenPhrase),console.log("valor de cache: ",cache)}function sendMsg(e){e.dispatchEvent(eventInput),document.querySelector("button._4sWnG").click()}function writeAndSendMsg(e){msgInput.textContent=e,sendMsg(msgInput)}function sendScheduledMessages(n){let e=schePhrases.filter(e=>Number(e.time)==n);e.forEach(e=>setTimeout(()=>writeAndSendMsg(e.phrase),2e3))}function whatsappBot(){let e=getTime();console.groupCollapsed("Message ["+count+"]"),console.log("======================================="),console.log("\nSelecting Message... \n\n"),onlyRandom&&(selectPhrase(),checkcache()),console.log("\tChosen phrase: "+phrases[chosenPhrase]),console.log("\tWriting..."),onlyScheduled&&everyS<=36e5?scheTime.includes(e.toString())?sendScheduledMessages(e):writeAndSendMsg(phrases[chosenPhrase]):onlyRandom&&writeAndSendMsg(phrases[chosenPhrase]),console.log("\n\n Sent!"),count++,console.groupEnd()}function stopBot(){clearInterval(bot),console.log("Bot stoped"),count=0}function startBot(){var e;onlyRandom&&(console.groupCollapsed("Message ["+count+"]"),console.log("======================================="),console.log("\nSelecting Message... \n\n"),selectPhrase(),checkcache(),console.log("\tChosen phrase: "+phrases[10]),console.log("\tWriting..."),writeAndSendMsg(phrases[chosenPhrase]),console.log("\n\n Sent!"),console.groupEnd()),onlyScheduled&&(e=getTime(),everyS<=36e5?(console.log("agendado"),scheTime.includes(e)&&sendScheduledMessages(e)):(alert("You MUST select less than 1 hour between messages on 'onlyScheduled' mode!"),alert("The bot wont send scheduled messages until you change the time or disable the onlyschedule mode"))),bot=setInterval(whatsappBot,everyS),console.log("Bot Initialized")}function checkInput(){void 0!==msgInput?(console.groupCollapsed("check Input"),console.log("Found input"),console.log(msgInput),console.groupEnd(),startBot(),clearInterval(isReady)):document.querySelectorAll("._13NKt.copyable-text.selectable-text").forEach(e=>{e.hasAttribute("spellcheck")&&(msgInput=e)})}function main(){onlyRandom||onlyScheduled?isReady=setInterval(checkInput,2e3):alert("No mode selected!")}main();